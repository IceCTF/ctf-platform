---
layout: default
title: Problems
post_scripts:
 - js/problems.js
startup_functions:
 - redirectIfNotLoggedIn()
---

<script src="/js/libs/star-rating.min.js"></script>
<link href="/css/star-rating.min.css" rel="stylesheet" type="text/css"/>

<script type="text/template" id="problem-template">
  <%
    var panelClass = problem.solved ? 'solved' : '';
    var collapseClass = problem.solved ? '' : 'in';
    var title = problem.name +  " - " + problem.score;
    var status = (problem.solved ? "Solved" : "Unsolved");
  %>
  <div class="problem <%= panelClass %> panel panel-default">
    <div class="problem-header panel-heading" data-toggle="collapse" data-target="#<%- problem.pid %>">
      <h4 class="panel-title">
        <%- title %>
        <div class="pull-right"><%- status %></div>
      </h4>
    </div>
    <div class="panel-collapse collapse <%= collapseClass %>" id="<%= problem.pid %>">
      <div class="problem-body panel-body">
        <p class="problem-description">
          <%= problem.description %>
          <% if(problem.hint) { %>
              <div class="row">
                <div class="col-md-11">
                  <em class="problem-hint pull-left" id="<%= problem.pid %>-hint">
                    <strong><h4>Hint:</h4></strong>
                    <%= problem.hint %>
                  </em>
                </div>
                <div class="col-md-1">
                  <span data-pid="<%= problem.pid %>" class="glyphicon glyphicon-info-sign pull-right info-span"></span>
                </div>
              </div>
          <% } %>
        </p>
        <% if(!problem.solved) { %>
          <%= renderProblemSubmit({problem: problem}) %>
        <% } else { %>
          <%= renderProblemReview({problem: problem}) %>
        <% } %>
      </div>
    </div>
  </div>
</script>

<script type="text/template" id="problem-list-template">
  <div class="problem-list panel-group">
    <% _.each(problems, function(problem) { %>
      <%= renderProblem({
            problem: problem,
            renderProblemReview: renderProblemReview,
            renderProblemSubmit: renderProblemSubmit
          }) %>
    <% }); %>
  </div>
</script>

<script type="text/template" id="problem-submit-template">
  <form class="problem-submit">
    <div class="input-group input-group-sm">
      <span class="input-group-btn">
        <button class="btn btn-default" type="submit">Submit!</button>
      </span>
      <input type="text" data-pid="<%- problem.pid %>" class="form-control">
    </div>
  </form>
</script>

<script type="text/template" id="problem-review-template">
  <form class="problem-review">
    <% var ratings = ["difficulty", "enjoyment"]; %>
    <h4>Optional Feedback</h4>
    <% _.each(ratings, function(rating) { %>
      <div class="row">
        <div class="col-md-4">
          <p><%- rating %></p>
        </div>
        <div class="col-md-8">
          <input data-rating="<%= rating %>" type="number" class="rating">
        </div>
      </div>
    <% }) %>
    <div class="row">
      <textarea class="form-control" id="description" name=""></textarea>
    </div>
  </form>
</script>

<div class="container">
  <div id="problem-list-holder"></div>
</div>
